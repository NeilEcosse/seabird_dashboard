"0","# Add derived columns to dataset"
"0",""
"0","nyc_bikes_df <- nyc_bikes %>% "
"0","  mutate("
"0","    start_date = as_date(start_time),"
"0","    stop_date = as_date(stop_time),"
"0","    start_year = year(start_time),"
"0","    start_quarter = quarter(start_time),"
"0","    start_month = month(start_time,"
"0","                        label = TRUE,"
"0","                        abbr = FALSE),"
"0","    start_weekday = wday(start_time,"
"0","                    week_start = 1,"
"0","                    label = TRUE,"
"0","                    abbr = FALSE),"
"0","    start_hour = hour(start_time),"
"0","    start_minute = minute(start_time),"
"0","    start_hour_numeric = (start_hour + (start_minute/60)),"
"0","    trip_duration = (stop_time - start_time),"
"0","    age = start_year - birth_year,"
"0","    age_group = case_when(age  >= 65 ~ ""65+"","
"0","                          age  >= 55 ~ ""55 - 64"","
"0","                          age  >= 45 ~ ""45 - 54"","
"0","                          age  >= 35 ~ ""35 - 44"","
"0","                          age  >= 25 ~ ""25 - 34"","
"0","                          age  >= 18 ~ ""18 - 24"","
"0","                          TRUE ~ NA_character_"
"0","    )"
"0","  )"
