"0","# Create map inputs"
"0",""
"0","observation_locations <- data_by_year_and_ship_activity %>% "
"0","  filter(species_common_name == ""Short-tailed shearwater"") %>% "
"0","  filter(year == 1985) %>% "
"0","  group_by(species_common_name, lat, long) %>% "
"0","  summarise(number_of_individuals = sum(count)) %>% "
"0","  arrange(desc(number_of_individuals))"
"0",""
"0",""
"0","# Create colour scheme for markers based on number of individuals"
"0","observation_locations <- observation_locations %>% "
"0","  mutate(observations_group = cut(number_of_individuals, breaks = c(0, 50, 500, 1000, 5000, Inf),"
"0","          labels = c(""orange"", ""light yellow"",""darkred"", ""red"", ""purple""),"
"0","                 include.lowest = TRUE)) "
"0",""
"0","icons <- awesomeIcons(icon = ""whatever"","
"0","                      iconColor = ""black"","
"0","                      library = ""ion"","
"0","                      markerColor = observation_locations$observations_group)"
"0",""
"0",""
"0","# Data for leaflet"
"0","observation_data_map <- observation_locations %>% "
"0","  leaflet() %>% "
"0","  addTiles() %>% "
"0","  addAwesomeMarkers(lng = ~ observation_locations$long, "
"0","             lat = ~ observation_locations$lat,"
"0","             icon = icons,"
"0","             popup = paste(""Count:"",as.character(observation_locations$number_of_individuals))"
"0","               "
"0","              "
"0","  )"
"0","observation_data_map"
